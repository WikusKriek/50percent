<template>
	<div class="page">

		<div class="navbar">
			<div class="navbar-inner">
				<div class="left">
					<a href="#" class="link back">
						<i class="icon icon-back"></i>
						<span class="ios-only" data-i18n="back">Back</span>
					</a>
				</div>
				<div class="title md-only" data-i18n="subjects">Subjects</div>
				<div class="subnavbar ios-only">
					<div class="subnavbar-inner">
						<div class="title" data-i18n="subjects">Subjects</div>
					</div>
				</div>
			</div>
		</div>

		<div class="page-content">
			<div class="list accordion-list">
				<ul>
			<li class="accordion-item">
				<a href="#" class="item-link">
					<div class="item-content">
						<div class="item-inner">
							<div class="item-title">How do the subject lists work?</div>
						</div>
					</div>
				</a>
				<div class="accordion-item-content">
					<div class="block">
						<p>You can create a custom subject list based on your preferences. The selected list will be used to create your custom timetable. We will however still use the default list to display announcements and subject assignments. The default list is constructed from your starred/favorite subjects on efundi. Adding or removing subjects from your efundi starred/favorite list will also show changes in this app.</p>
					</div>
				</div>
			</li>
			</ul>
			</div>
			<div class="block block-strong">


				<label class="radio">
					<input id="radio1" type="radio" name="radio" value="1" />
					<i class="icon-radio"></i>
				</label>
				<span>Use Default subject List</span>


					<div class="list simple-list">
						<ul id='defaultlist'>

					</ul>
				</div>

			</div>
			<div class="block block-strong">


				<label class="radio">
					<input id="radio2" type="radio" name="radio" value="2" />
					<i class="icon-radio"></i>
				</label>
				<span>Use Custom 1</span>


					<div class="list simple-list">
						<ul id="custom1list">

					</ul>
				</div>
				<div class="block block-strong">
					<div class="row">
						<div class="col">
							<a href="/academic/addremove" id="editcustom1" class="button button-fill button-raised button-round"onclick='buttonnum(1);'>Edit Custom 1</a>
						</div>

					</div>
				</div>
			</div>
			<div class="block block-strong">


				<label class="radio">
					<input id="radio3" type="radio" name="radio" value="3"/>
					<i class="icon-radio"></i>
				</label>
				<span>Use Custom 2</span>


					<div class="list simple-list">
						<ul id="custom2list">


					</ul>

				</div>
				<div class="block block-strong">
					<div class="row">
						<div class="col">
							<a href="/academic/addremove"id="editcustom2" class="button button-fill button-raised button-round"onclick='buttonnum(2);'>Edit Custom 2</a>
						</div>

					</div>
				</div>
			</div>
			<script type="text/javascript">


				$('input[type=radio][name=radio]').change(function() {
			if (this.value == '1') {
			localStorage.removeItem('radio1');
			localStorage.setItem('radio1', '1');
			}
			else if (this.value == '2') {
			localStorage.removeItem('radio1');
			localStorage.setItem('radio1', '2');
			}else{
			localStorage.removeItem('radio1');
			localStorage.setItem('radio1', '3');
			}
			});



			</script>

		</div>

	</div>
</template>



<script>
	return {
		methods: {
			setradio:function(){
				if(localStorage.getItem('radio1')==null){
					localStorage.setItem('radio1', '1');
				}
			document.getElementById('radio'+localStorage.getItem('radio1')).checked="true"	;
			},
			loadlist:function(){


				var custom1 = JSON.parse(localStorage.getItem('custom1'));
				var custom2 = JSON.parse(localStorage.getItem('custom2'));
				if (custom1!=null){
					for(var sub in custom1){

						$("#custom1list").append('<li>'+custom1[sub].subject+'</li>');
					}

				}
				if (custom2!=null){
					for(var sub in custom2){

						$("#custom2list").append('<li>'+custom2[sub].subject+'</li>');
					}

				}
				var subjects=JSON.parse(localStorage.getItem('subjects'));
				for(var sub in subjects){
					$("#defaultlist").append('<li>'+subjects[sub].subject+'</li>');
				}

			}
		},
		on: {
			pageInit: function() {
				var self = this;
				self.loadlist();
				self.setradio();
			}
		}
	}
</script>
